<div class="py-4 border-bottom">
  <h2>{{ I18ns.settings.users.title }}</h2>
  <p class="mb-4 alto-grey">{{ I18ns.settings.users.subtitle }}</p>
  <hr />
  <div class="row">
    <div class="col-4">
      <h3>{{ I18ns.settings.users.admins }}</h3>
      <p class="alto-grey">{{ I18ns.settings.users.adminsDesc }}</p>
    </div>

    <div class="col">
      <div class="table-panel">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">{{ I18ns.settings.users.table.name }}</th>
              <th scope="col">{{ I18ns.settings.users.table.createdAt }}</th>
              <th scope="col">{{ I18ns.settings.users.table.lastConnection }}</th>
              <th scope="col" class="text-center">{{ I18ns.settings.users.table.connexion }}</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of adminDisplay" class="align-middle">
              <td>
                <alto-profile-card [user]="user"></alto-profile-card>
              </td>
              <td title="{{ user.createdAt | date : 'short' }}">{{ user.createdAt | date : 'shortDate' }}</td>
              <td title="{{ user.updatedAt | date : 'short' }}">{{ user.updatedAt | date : 'shortDate' }}</td>
              <td class="text-center">
                <img
                  *ngIf="user.slackId"
                  src="assets/img/slack-logo.svg"
                  width="18"
                  height="18"
                  alt="Slack Logo"
                />
              </td>
              <td class="px-3 cursor-pointer">
                <i class="fs-5 bi bi-pen" (click)="openUserEditionForm(user)"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-4">
      <h3>{{ I18ns.settings.users.users }}</h3>
      <p class="alto-grey">{{ I18ns.settings.users.usersDesc }}</p>
    </div>
    <div class="col">
      <div class="table-panel">
        <table class="table">
          <thead>
            <tr>
              <th scope="col" class="w-35">{{ I18ns.settings.users.table.name }}</th>
              <th scope="col">{{ I18ns.settings.users.table.createdAt }}</th>
              <th scope="col">{{ I18ns.settings.users.table.lastConnection }}</th>
              <th scope="col" class="text-center">{{ I18ns.settings.users.table.connexion }}</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of usersDisplay" class="align-middle">
              <td>
                <alto-profile-card [user]="user"></alto-profile-card>
              </td>
              <td title="{{ user.createdAt | date : 'short' }}">{{ user.createdAt | date : 'shortDate' }}</td>
              <td title="{{ user.updatedAt | date : 'short' }}">{{ user.updatedAt | date : 'shortDate' }}</td>
              <td class="text-center">
                <img
                  *ngIf="user.slackId"
                  src="assets/img/slack-logo.svg"
                  width="18"
                  height="18"
                  alt="Slack Logo"
                />
              </td>
              <td class="cursor-pointer">
                <i class="fs-5 bi bi-pen" (click)="openUserEditionForm(user)"></i>
              </td>
            </tr>
          </tbody>
        </table>

        <alto-pagination
          class="mx-4 d-block"
          [ngClass]="{ invisible: usersCount <= usersPageSize }"
          [collectionSize]="usersCount"
          [(page)]="usersPage"
          (pageChange)="changeUsersPage($event)"
          [pageSize]="usersPageSize"
        ></alto-pagination>
      </div>
    </div>
  </div>
</div>
